<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>接口消息测试</title>
    <style>
        html,
        body,
        iframe {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div class="slide-wrap">
        <video style="display: none;" autoplay loop muted id="sec4-video">
            <source
                src="https://kjds-cdn.speiyou.com/resource/b29b856da02641308a41a1cca7c0540b/video/9D1B885977C8A42F5871EC21F7EBC3FD.mp4"
                type="video/mp4">
        </video>
        <canvas id="sec4-canvas" width="400" height="400"></canvas>
    </div>
    <script>
        var videoObj = document.getElementById("sec4-video");
        var canvasObj = document.getElementById("sec4-canvas");
        var ctx = canvasObj.getContext('2d');
        videoObj.addEventListener('canplaythrough',function(){
            videoObj.play();
        })
        videoObj.addEventListener('play', function () {
            var i = window.setInterval(function () {
                ctx.drawImage(videoObj, 0, 0, 400, 400);
            }, 40);
        }, true);
    </script>
</body>

</html>