<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>测试file协议加载数据</title>
  </head>
  <body>
    <script>
      // 并没有什么好办法直接在file协议下加载json
      // 最后的办法是将json的数据放到一个js文件中并挂在window的一个全局变量上
      // 通过script标签来加载
      const script = document.createElement('script');
      script.src = 'file:///C:/workspace/own/self-test/file-test/data.js';
      script.onload = testDemo;
      document.body.appendChild(script);

      function testDemo(e) {
        console.log(window.pagesData);
      }
    </script>
  </body>
</html>
